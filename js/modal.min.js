window.addEventListener("keydown",e=>{if("Escape"!==e.code)return;const t=document.querySelector(".modal.modal--show");t&&(t.classList.remove("modal--show"),t.classList.remove("modal--error"))});class Modal{constructor(e,t){this.modal=document.querySelector(e),this.triggerElement=document.querySelector(t),this.registerCloseButtonClickHandler(),this.registerTriggerElementClickHandler()}registerCloseButtonClickHandler(){this.modal.querySelector(".modal-close-button").addEventListener("click",()=>{this.modal.classList.remove("modal--show"),this.modal.classList.remove("modal--error")})}registerTriggerElementClickHandler(){this.triggerElement.addEventListener("click",e=>{e.preventDefault(),this.modal.classList.add("modal--show")})}}export class WriteUsModal extends Modal{constructor(e){super(e.modalSelector,e.triggerElementSelector),this.writeUsForm=this.modal.querySelector(e.formSelector),this.nameInput=this.writeUsForm.querySelector(e.nameInputSelector),this.emailInput=this.writeUsForm.querySelector(e.emailInputSelector),this.messageInput=this.writeUsForm.querySelector(e.messageInputSelector),this.registerFormSubmitHandler()}registerTriggerElementClickHandler(){this.triggerElement.addEventListener("click",e=>{e.preventDefault(),this.modal.classList.add("modal--show"),this.nameInput.focus()})}registerFormSubmitHandler(){this.writeUsForm.addEventListener("submit",e=>{this.modal.classList.contains("modal--error")&&(this.modal.classList.remove("modal--error"),this.modal.offsetWidth);const t=this.nameInput.value,r=this.emailInput.value,s=this.messageInput.value;t.trim()&&r.trim()&&s.trim()||(e.preventDefault(),this.modal.classList.add("modal--error"))})}}export class ModalMap extends Modal{constructor(e){super(e.modalSelector,e.triggerElementSelector)}}export class ModalOrder extends Modal{constructor(e){super(e.modalSelector,e.triggerElementSelector)}registerTriggerElementClickHandler(){this.triggerElement.addEventListener("click",e=>{e.target.classList.contains("buy-button")&&this.modal.classList.add("modal--show")})}}
