export class ProductSlide{constructor(e,t,i){this.title=e,this.text=t,this.backgroundUrl=i}}export class ProductSlider{constructor(e){this.slider=document.querySelector(e.sliderSelector),this.sliderTitle=document.querySelector(e.sliderTitleSelector),this.sliderText=document.querySelector(e.sliderTextSelector),this.slideButtonList=document.querySelector(e.buttonListSelector),this.prevSlideButton=document.querySelector(e.prevSlideButtonSelector),this.nextSlideButton=document.querySelector(e.nextSlideButtonSelector),this.slides=e.slides||[],this.activeSlideIndex=0}init(){this.slides.length&&(this.renderSlideButtons(),this.registerListeners(),this.selectSlide(this.activeSlideIndex))}renderSlideButtons(){const e=document.createDocumentFragment();for(const t of this.slides.keys())e.append(this.wrapSlideButton(this.createSlideButton(t)));this.slideButtonList.innerHTML="",this.slideButtonList.append(e)}createSlideButton(e){const t=document.createElement("button");return t.dataset.index=e,t.type="button",t.classList.add("slide-button"),e===this.activeSlideIndex&&t.classList.add("current-slide"),t["aria-label"]=`К слайду №${e}`,t}wrapSlideButton(e){const t=document.createElement("li");return t.append(e),t}registerListeners(){this.prevSlideButton.addEventListener("click",()=>{const e=this.activeSlideIndex-1<0?this.slides.length-1:this.activeSlideIndex-1;this.selectSlide(e)}),this.nextSlideButton.addEventListener("click",()=>{const e=this.activeSlideIndex+1===this.slides.length?0:this.activeSlideIndex+1;this.selectSlide(e)}),this.slideButtonList.addEventListener("click",e=>{if("BUTTON"!==e.target.tagName)return;if(e.target.classList.contains("current-slide"))return;const t=e.target,i=Number(t.dataset.index);this.selectSlide(i)})}selectSlide(e){const t=this.slides[e];this.sliderTitle.innerText=t.title,this.sliderText.innerText=t.text,this.slider.style["background-image"]=`url(.${t.backgroundUrl})`,this.activeSlideIndex=e;const i=this.slideButtonList.querySelector(".current-slide");i&&i.classList.remove("current-slide"),this.slideButtonList.querySelector(`[data-index="${e}"]`).classList.add("current-slide")}}
